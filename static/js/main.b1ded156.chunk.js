(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{23:function(e,t,n){e.exports=n(53)},53:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),i=n.n(c),o=n(1),u=n(3),l=n(6),m=n.n(l),s=n(8),f=n(5),d={colors:{blue:"#158ca1",white:"#fff",black:"#000",grey:"#f3f4f8"},containerWidth:"1300px",metrics:{metricXL:"90px",metricL:"60px",metricM:"45px",metricBase:"30px",metricS:"15px",metricXS:"5px"},shadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",breakPoints:{tablet:768,smallDesktop:1100}},p=u.c;function h(){var e=Object(o.a)(["\n  max-width: ",";\n  margin: 0 auto;\n  padding: 0 ",";\n  @media (min-width: ",") {\n    padding: 0 ",";\n  }\n  @media (min-width: ",") {\n    padding: 0 ",";\n  }\n"]);return h=function(){return e},e}var b=p.div(h(),(function(e){return e.theme.containerWidth}),(function(e){return e.theme.metrics.metricBase}),(function(e){return e.theme.breakPoints.tablet}),(function(e){return e.theme.metrics.metricL}),(function(e){return e.theme.breakPoints.smallDesktop}),(function(e){return e.theme.metrics.metricXL})),v=a.a.memo((function(e){var t=e.children;return a.a.createElement(b,null,t)})),O=n(11),E=n.n(O);function x(){var e=Object(o.a)(["\n  color: ",";\n  text-align: center;\n  margin-bottom: ",";\n"]);return x=function(){return e},e}function g(){var e=Object(o.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  padding: ",";\n"]);return g=function(){return e},e}var w=u.c.div(g(),(function(e){return e.theme.metrics.metricS})),y=u.c.div(x(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricXS})),j=(n(17),function(e){var t=e.time,n=e.mainInfo,c=e.icon,i=Object(r.useMemo)((function(){return Math.round(n.temp)}),[n.temp]);return a.a.createElement(w,null,a.a.createElement(y,null,a.a.createElement(E.a,{locale:"pl",format:"LT",date:t})),a.a.createElement("img",{src:"http://openweathermap.org/img/w/".concat(c,".png"),alt:"icon"}),a.a.createElement(y,null,i," \xbaC"),a.a.createElement(y,null,"Wilgotno\u015b\u0107: ",n.humidity,"%"))});function C(){var e=Object(o.a)(["\n  display: flex;\n  align-items: center;\n"]);return C=function(){return e},e}function k(){var e=Object(o.a)(["\n  display: flex;\n  max-width: 100%;\n  overflow-x: auto;\n"]);return k=function(){return e},e}function L(){var e=Object(o.a)(["\n  font-style: italic;\n  display: block;\n"]);return L=function(){return e},e}function R(){var e=Object(o.a)(["\n  position: relative;\n  border: 1px solid ",";\n  padding: 20px;\n  box-shadow: ",";\n  border-radius: 10px;\n  width: 100%;\n  margin-bottom: ",";\n"]);return R=function(){return e},e}var S=p.div(R(),(function(e){return e.theme.colors.grey}),(function(e){return e.theme.shadow}),(function(e){return e.theme.metrics.metricM})),F=p.span(L()),A=p.div(k()),M=p.div(C()),T=n(12),D=a.a.memo((function(e){var t=e.data,n=e.day,c=Object(r.useMemo)((function(){return e=t,{min:Math.round(Math.max.apply(Math,Object(T.a)(e.map((function(e){return e.main.temp}))))),max:Math.round(Math.min.apply(Math,Object(T.a)(e.map((function(e){return e.main.temp})))))};var e}),[t]),i=c.min,o=c.max,u=Object(r.useMemo)((function(){return e=t.map((function(e){return e.main.temp})),Math.round(e.reduce((function(e,t){return e+t}))/e.length);var e}),[t]);return a.a.createElement(S,null,a.a.createElement(M,null,a.a.createElement("h3",null,a.a.createElement(E.a,{locale:"pl",format:"dddd",date:n}),a.a.createElement(F,null,n)),a.a.createElement(y,null,"Min: ",i,"\xbaC"),a.a.createElement(y,null,"Max: ",o,"\xbaC"),a.a.createElement(y,null,"\u015ar: ",u,"\xbaC")),a.a.createElement(A,null,t.map((function(e,t){return a.a.createElement(j,{key:t,icon:e.weather[0].icon,mainInfo:e.main,time:e.dt_txt})}))))}));function _(){var e=Object(o.a)(["\n  width: 100%;\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  padding: "," 0;\n"]);return _=function(){return e},e}function P(){var e=Object(o.a)(["\n  display: flex;\n  width: 300px;\n  margin-bottom: ",";\n"]);return P=function(){return e},e}var I=p.div(P(),(function(e){return e.theme.metrics.metricS})),z=p.input(_(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricXS})),W=a.a.memo((function(e){var t=e.onChange;return a.a.createElement(I,null,a.a.createElement(z,{onChange:t,type:"text",placeholder:"Wpisz nazw\u0119 miasta"}))}));function N(){var e=Object(o.a)(["\n  border: 1px solid ",";\n  background-color: transparent;\n  padding: ",";\n  width: 300px;\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"]);return N=function(){return e},e}var G=p.button(N(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricS}),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.colors.white})),H=a.a.memo((function(e){var t=e.text,n=e.onClick;return a.a.createElement(G,{onClick:n},t)})),X=n(22),B=n.n(X);function J(){var e=Object(o.a)(["\n  color: ",";\n  text-align: center;\n  margin-bottom: ",";\n"]);return J=function(){return e},e}function q(){var e=Object(o.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: ",";\n"]);return q=function(){return e},e}function $(){var e=Object(o.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  padding: "," 0;\n"]);return $=function(){return e},e}var K,Q=u.c.div($(),(function(e){return e.theme.metrics.metricXL})),U=u.c.div(q(),(function(e){return e.theme.metrics.metricM})),V=u.c.h1(J(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricL})),Y="404",Z=n(4);!function(e){e[e.FETCH_WEATHER_FORECAST=0]="FETCH_WEATHER_FORECAST"}(K||(K={}));var ee,te={weatherForecastList:void 0,statusCode:void 0,city:void 0},ne=function(e,t){var n,r=t.type,a=t.payload;switch(r){case K.FETCH_WEATHER_FORECAST:return Object(Z.a)(Object(Z.a)({},e),{},{weatherForecastList:a.list?(n=a.list,n.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]=[].concat(Object(T.a)(e[n]?e[n]:[]),[t]),e}),{})):e.weatherForecastList,city:a.city?a.city.name:e.city,statusCode:a.cod})}},re=a.a.createContext({}),ae=function(e){var t=Object(r.useReducer)(ne,te),n=Object(f.a)(t,2),c=n[0],i=n[1];return a.a.createElement(re.Provider,{value:{weatherForecastState:c,weatherForecastDispatch:i}},e.children)},ce=function(){var e=Object(s.a)(m.a.mark((function e(t){var n,r,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.town,e.prev=1,e.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5","/forecast/?q=").concat(n,"&units=metric&APPID=").concat("733442219eadeb4b4c4b9b393a3f83ba","&lang=pl"));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();!function(e){e[e.LOADING=0]="LOADING",e[e.STOP_LOADING=1]="STOP_LOADING",e[e.ERROR=2]="ERROR"}(ee||(ee={}));var ie={error:void 0,isLoading:!1},oe=function(e,t){switch(t.type){case ee.LOADING:return Object(Z.a)(Object(Z.a)({},e),{},{isLoading:!0});case ee.STOP_LOADING:return Object(Z.a)(Object(Z.a)({},e),{},{isLoading:!1});case ee.ERROR:return Object(Z.a)(Object(Z.a)({},e),{},{error:t.data})}},ue=a.a.createContext({}),le=function(e){var t=Object(r.useReducer)(oe,ie),n=Object(f.a)(t,2),c=n[0],i=n[1];return a.a.createElement(ue.Provider,{value:{appState:c,appDispatch:i}},e.children)},me=function(){var e=a.a.useState(void 0),t=Object(f.a)(e,2),n=t[0],c=t[1],i=Object(r.useContext)(re),o=i.weatherForecastDispatch,u=i.weatherForecastState,l=Object(r.useContext)(ue),d=l.appDispatch,p=l.appState.isLoading,h=Object(r.useCallback)(function(){var e=Object(s.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n){e.next=14;break}return d({type:ee.LOADING}),e.prev=3,e.next=6,ce({town:n});case 6:r=e.sent,o({type:K.FETCH_WEATHER_FORECAST,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),d({type:ee.ERROR,data:e.t0});case 13:d({type:ee.STOP_LOADING});case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),[n]),b=Object(r.useCallback)((function(e){return c(e.target.value)}),[]);return a.a.createElement(v,null,a.a.createElement(Q,null,a.a.createElement(V,null,"Prognoza Pogody"),a.a.createElement(U,null,a.a.createElement(W,{onChange:b}),p?a.a.createElement(B.a,{type:"Oval",color:"#158ca1",height:50,width:50}):a.a.createElement(H,{text:"Szukaj",onClick:h})),u&&u.city&&a.a.createElement("h2",null,"Miasto: ",u.city),u&&u.weatherForecastList&&Object.keys(u.weatherForecastList).map((function(e,t){return a.a.createElement(D,{key:t,day:e,data:u.weatherForecastList[e]})})),u&&u.statusCode&&u.statusCode===Y&&a.a.createElement("p",null,"Nie znaleziono miasta.")))};function se(){var e=Object(o.a)(["\nhtml {\n  font-size: 62.5%\n}\nbody {\n    font-family: 'Roboto', sans-serif;\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-rendering: optimizeLegibility;\n    font-size: 1.4rem;\n    overflow-x: hidden;\n}\nh1 {\n  font-size: 2.4rem;\n}\n"]);return se=function(){return e},e}var fe=Object(u.b)(se()),de=function(){return a.a.createElement(le,null,a.a.createElement(u.a,{theme:d},a.a.createElement(fe,null),a.a.createElement(ae,null,a.a.createElement(me,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.b1ded156.chunk.js.map