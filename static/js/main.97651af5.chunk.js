(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{23:function(e,t,n){e.exports=n(53)},53:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(18),o=n.n(c),i=n(1),u=n(3),l=n(4),s=n.n(l),m=n(6),p=n(7),f={colors:{blue:"#158ca1",white:"#fff",black:"#000",grey:"#f3f4f8"},containerWidth:"1300px",metrics:{metricXL:"90px",metricL:"60px",metricM:"45px",metricBase:"30px",metricS:"15px",metricXS:"5px"},shadow:"0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)",breakPoints:{tablet:768,smallDesktop:1100}},d=u.c;function h(){var e=Object(i.a)(["\n  max-width: ",";\n  margin: 0 auto;\n  padding: 0 ",";\n  @media (min-width: ",") {\n    padding: 0 ",";\n  }\n  @media (min-width: ",") {\n    padding: 0 ",";\n  }\n"]);return h=function(){return e},e}var b=d.div(h(),(function(e){return e.theme.containerWidth}),(function(e){return e.theme.metrics.metricBase}),(function(e){return e.theme.breakPoints.tablet}),(function(e){return e.theme.metrics.metricL}),(function(e){return e.theme.breakPoints.smallDesktop}),(function(e){return e.theme.metrics.metricXL})),v=a.a.memo((function(e){var t=e.children;return a.a.createElement(b,null,t)})),O=n(11),E=n.n(O);function g(){var e=Object(i.a)(["\n  color: ",";\n  text-align: center;\n  margin-bottom: ",";\n  padding: 0 ",";\n\n  &:first-of-type {\n    margin-left: ",";\n  }\n"]);return g=function(){return e},e}function x(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  padding: ",";\n"]);return x=function(){return e},e}var w=u.c.div(x(),(function(e){return e.theme.metrics.metricS})),y=u.c.div(g(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricXS}),(function(e){return e.theme.metrics.metricXS}),(function(e){return e.theme.metrics.metricS})),j=(n(17),function(e){var t=e.time,n=e.mainInfo,c=e.icon,o=Object(r.useMemo)((function(){return Math.round(n.temp)}),[n.temp]);return a.a.createElement(w,null,a.a.createElement(y,null,a.a.createElement(E.a,{locale:"pl",format:"LT",date:t})),a.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat(c,".png"),alt:"icon"}),a.a.createElement(y,null,o," \xbaC"),a.a.createElement(y,null,"Wilgotno\u015b\u0107: ",n.humidity,"%"))});function C(){var e=Object(i.a)(["\n  display: flex;\n  align-items: center;\n"]);return C=function(){return e},e}function k(){var e=Object(i.a)(["\n  display: flex;\n  max-width: 100%;\n  overflow-x: auto;\n"]);return k=function(){return e},e}function L(){var e=Object(i.a)(["\n  font-style: italic;\n  display: block;\n"]);return L=function(){return e},e}function S(){var e=Object(i.a)(["\n  position: relative;\n  border: 1px solid ",";\n  padding: 20px;\n  box-shadow: ",";\n  border-radius: 10px;\n  width: 100%;\n  margin-bottom: ",";\n"]);return S=function(){return e},e}var R=d.div(S(),(function(e){return e.theme.colors.grey}),(function(e){return e.theme.shadow}),(function(e){return e.theme.metrics.metricM})),T=d.span(L()),A=d.div(k()),_=d.div(C()),D=n(12),F=a.a.memo((function(e){var t=e.data,n=e.day,c=Object(r.useMemo)((function(){return e=t.map((function(e){return e.main.temp})),{min:Math.round(Math.max.apply(Math,Object(D.a)(e))),max:Math.round(Math.min.apply(Math,Object(D.a)(e))),mean:Math.round(e.reduce((function(e,t){return e+t}))/e.length)};var e}),[t]),o=c.min,i=c.max,u=c.mean;return a.a.createElement(R,null,a.a.createElement(_,null,a.a.createElement("h3",null,a.a.createElement(E.a,{locale:"pl",format:"dddd",date:n}),a.a.createElement(T,null,n)),a.a.createElement(y,null,"Min: ",o,"\xbaC"),a.a.createElement(y,null,"Max: ",i,"\xbaC"),a.a.createElement(y,null,"\u015ar: ",u,"\xbaC")),a.a.createElement(A,null,t.map((function(e,t){return a.a.createElement(j,{key:t,icon:e.weather[0].icon,mainInfo:e.main,time:e.dt_txt})}))))}));function P(){var e=Object(i.a)(["\n  width: 100%;\n  border: none;\n  border-bottom: 1px solid ",";\n  outline: none;\n  padding: "," 0;\n"]);return P=function(){return e},e}function I(){var e=Object(i.a)(["\n  display: flex;\n  width: 300px;\n  margin-bottom: ",";\n"]);return I=function(){return e},e}var N=d.div(I(),(function(e){return e.theme.metrics.metricS})),M=d.input(P(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricXS})),z=a.a.memo((function(e){var t=e.onChange,n=e.onKeyPress;return a.a.createElement(N,null,a.a.createElement(M,{onKeyDown:n,onChange:t,type:"text",placeholder:"Wpisz nazw\u0119 miasta"}))}));function G(){var e=Object(i.a)(["\n  border: 1px solid ",";\n  background-color: transparent;\n  padding: ",";\n  width: 300px;\n  margin-bottom: ",";\n  transition: all 0.2s ease-in-out;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n"]);return G=function(){return e},e}var W=d.button(G(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricS}),(function(e){return e.theme.metrics.metricXS}),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.colors.white})),H=a.a.memo((function(e){var t=e.text,n=e.onClick;return a.a.createElement(W,{onClick:n},t)})),U=n(22),X=n.n(U);function B(){var e=Object(i.a)(["\n  color: ",";\n  text-align: center;\n  margin-bottom: ",";\n"]);return B=function(){return e},e}function K(){var e=Object(i.a)(["\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: ",";\n"]);return K=function(){return e},e}function J(){var e=Object(i.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  padding: "," 0;\n"]);return J=function(){return e},e}var q,$=u.c.div(J(),(function(e){return e.theme.metrics.metricXL})),Q=u.c.div(K(),(function(e){return e.theme.metrics.metricM})),V=u.c.h1(B(),(function(e){return e.theme.colors.blue}),(function(e){return e.theme.metrics.metricL})),Y={SUCCESS:"200",NOT_FOUND:"404"},Z={maximumAge:6e5,timeout:1e4},ee=n(5);!function(e){e[e.FETCH_WEATHER_FORECAST=0]="FETCH_WEATHER_FORECAST"}(q||(q={}));var te,ne={weatherForecastList:void 0,statusCode:void 0,city:void 0},re=function(e,t){var n,r=t.type,a=t.payload;switch(r){case q.FETCH_WEATHER_FORECAST:return Object(ee.a)(Object(ee.a)({},e),{},{weatherForecastList:a.list?(n=a.list,n.reduce((function(e,t){var n=t.dt_txt.split(" ")[0];return e[n]=[].concat(Object(D.a)(e[n]?e[n]:[]),[t]),e}),{})):void 0,city:a.city?a.city.name:void 0,statusCode:a.cod})}},ae=a.a.createContext({}),ce=function(e){var t=Object(r.useReducer)(re,ne),n=Object(p.a)(t,2),c=n[0],o=n[1];return a.a.createElement(ae.Provider,{value:{weatherForecastState:c,weatherForecastDispatch:o}},e.children)},oe=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.town,e.prev=1,e.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5","/forecast/?q=").concat(n,"&units=metric&APPID=").concat("733442219eadeb4b4c4b9b393a3f83ba","&lang=pl"));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userLocation,e.prev=1,e.next=4,fetch("".concat("https://api.openweathermap.org/data/2.5","/forecast/?lat=").concat(n.lat,"&lon=").concat(n.long,"&units=metric&APPID=").concat("733442219eadeb4b4c4b9b393a3f83ba","&lang=pl"));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();!function(e){e[e.LOADING=0]="LOADING",e[e.STOP_LOADING=1]="STOP_LOADING",e[e.ERROR=2]="ERROR",e[e.GET_USER_LOCATION=3]="GET_USER_LOCATION"}(te||(te={}));var ue={error:void 0,isLoading:!1,userLocation:{lat:void 0,long:void 0}},le=function(e,t){switch(t.type){case te.LOADING:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!0});case te.STOP_LOADING:return Object(ee.a)(Object(ee.a)({},e),{},{isLoading:!1});case te.GET_USER_LOCATION:return Object(ee.a)(Object(ee.a)({},e),{},{userLocation:t.cords?t.cords:e.userLocation});case te.ERROR:return Object(ee.a)(Object(ee.a)({},e),{},{error:t.error})}},se=a.a.createContext({}),me=function(e){var t=Object(r.useReducer)(le,ue),n=Object(p.a)(t,2),c=n[0],o=n[1];return a.a.createElement(se.Provider,{value:{appState:c,appDispatch:o}},e.children)},pe=function(e){return new Promise((function(t,n){return navigator.geolocation.getCurrentPosition(t,n,e)}))},fe=function(){var e=Object(r.useState)(void 0),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(r.useContext)(ae),i=o.weatherForecastDispatch,u=o.weatherForecastState,l=u.city,f=u.statusCode,d=u.weatherForecastList,h=Object(r.useContext)(se),b=h.appDispatch,O=h.appState,E=O.isLoading,g=O.userLocation;Object(r.useEffect)((function(){g.lat&&g.long&&y({userLocation:g})}),[g]);var x=Object(r.useCallback)(function(){var e=Object(m.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),!n){e.next=14;break}return b({type:te.LOADING}),e.prev=3,e.next=6,oe({town:n});case 6:r=e.sent,i({type:q.FETCH_WEATHER_FORECAST,payload:r}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),b({type:te.ERROR,error:e.t0});case 13:b({type:te.STOP_LOADING});case 14:return e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),[n]),w=Object(r.useCallback)((function(e){return c(e.target.value)}),[]),y=function(){var e=Object(m.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userLocation,b({type:te.LOADING}),e.prev=2,e.next=5,ie({userLocation:n});case 5:r=e.sent,i({type:q.FETCH_WEATHER_FORECAST,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),b({type:te.ERROR,error:e.t0});case 12:b({type:te.STOP_LOADING});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(m.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe(Z);case 3:t=e.sent,n={lat:t.coords.latitude,long:t.coords.longitude},b({type:te.GET_USER_LOCATION,cords:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),b({type:te.ERROR,error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(v,null,a.a.createElement($,null,a.a.createElement(V,null,"Prognoza Pogody"),a.a.createElement(Q,null,E?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Wyszukiwanie miasta"),a.a.createElement(X.a,{type:"Oval",color:"#158ca1",height:50,width:50})):a.a.createElement(a.a.Fragment,null,a.a.createElement(z,{onChange:w,onKeyPress:function(e){return"Enter"===e.key&&x()}}),a.a.createElement(H,{text:"Szukaj",onClick:x}),a.a.createElement(H,{text:"U\u017cyj mojej lokalizacji",onClick:j}))),l&&a.a.createElement("h2",null,"Miasto: ",l),f&&f===Y.SUCCESS&&d&&Object.keys(d).map((function(e,t){return a.a.createElement(F,{key:t,day:e,data:d[e]})})),f&&f===Y.NOT_FOUND&&a.a.createElement("p",null,"Nie znaleziono miasta."),f&&!Object.values(Y).includes(f)&&a.a.createElement("p",null,"Co\u015b posz\u0142o nie tak :( spr\xf3buj ponownie p\xf3\u017aniej.")))};function de(){var e=Object(i.a)(["\nhtml {\n  font-size: 62.5%\n}\nbody {\n    font-family: 'Roboto', sans-serif;\n    margin: 0;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-rendering: optimizeLegibility;\n    font-size: 1.4rem;\n    overflow-x: hidden;\n}\nh1 {\n  font-size: 2.4rem;\n}\n"]);return de=function(){return e},e}var he=Object(u.b)(de()),be=function(){return a.a.createElement(u.a,{theme:f},a.a.createElement(he,null),a.a.createElement(ce,null,a.a.createElement(fe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(me,null,a.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.97651af5.chunk.js.map